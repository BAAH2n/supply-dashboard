# Supply Dashboard - –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏—Ö –º–µ—Ç—Ä–∏–∫

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –¥–∞—à–±–æ—Ä–¥—ñ–≤ –∑ –æ–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏ —Ç–∞ —ó—Ö –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó –≤ Slack.

## üìã –ó–º—ñ—Å—Ç

- [–û–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É](#–æ–ø–∏—Å-–ø—Ä–æ—î–∫—Ç—É)
- [Prerequisites (–ü–µ—Ä–µ–¥—É–º–æ–≤–∏)](#prerequisites-–ø–µ—Ä–µ–¥—É–º–æ–≤–∏)
- [–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è](#–≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è)
- [–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è](#–Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è)
- [–í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è](#–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–ø—Ä–æ—î–∫—Ç—É)
- [Troubleshooting](#troubleshooting)

---

## –û–ø–∏—Å –ø—Ä–æ—î–∫—Ç—É

–°–∏—Å—Ç–µ–º–∞ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –¥–≤–æ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤:

1. **R Dashboard Generator** - –≥–µ–Ω–µ—Ä—É—î –≤—ñ–∑—É–∞–ª—å–Ω—ñ –¥–∞—à–±–æ—Ä–¥–∏ –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏ –∑ Google Sheets
2. **Python Slack Bot** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞–¥—Å–∏–ª–∞—î –∑–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤ Slack –∫–∞–Ω–∞–ª

### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- ‚úÖ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –∑ Google Sheets
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–∞—à–±–æ—Ä–¥—ñ–≤ –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º–∏ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø—É–±–ª—ñ–∫–∞—Ü—ñ—è –≤ Slack
- ‚úÖ –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ (line, area, bar, card)
- ‚úÖ –ù–∞–ª–∞—à—Ç–æ–≤—É–≤–∞–Ω–∏–π –ø–µ—Ä—ñ–æ–¥ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö

---

## Prerequisites (–ü–µ—Ä–µ–¥—É–º–æ–≤–∏)

### 1. –ü—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è

#### R —Ç–∞ RStudio
- **R –≤–µ—Ä—Å—ñ—è**: 4.0 –∞–±–æ –Ω–æ–≤—ñ—à–∞
- **RStudio**: –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–∞ –æ—Å—Ç–∞–Ω–Ω—è —Å—Ç–∞–±—ñ–ª—å–Ω–∞ –≤–µ—Ä—Å—ñ—è
- **Quarto**: –î–ª—è —Ä–æ–±–æ—Ç–∏ –∑ `.qmd` —Ñ–∞–π–ª–∞–º–∏

–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è R:
- **macOS**: `brew install r`
- **Ubuntu/Debian**: `sudo apt-get install r-base`
- **Windows**: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ [cran.r-project.org](https://cran.r-project.org/)

–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Quarto:
- –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ [quarto.org](https://quarto.org/docs/get-started/)

#### Python
- **Python –≤–µ—Ä—Å—ñ—è**: 3.8 –∞–±–æ –Ω–æ–≤—ñ—à–∞
- **pip**: –ú–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç—ñ–≤ Python (–∑–∞–∑–≤–∏—á–∞–π –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è —Ä–∞–∑–æ–º –∑ Python)

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–µ—Ä—Å—ñ—ó:
```bash
python3 --version
pip3 --version
```

#### Google Chrome / Chromium
- **Chrome/Chromium**: –ù–µ–æ–±—Ö—ñ–¥–Ω–∏–π –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Å–∫—Ä—ñ–Ω—à–æ—Ç—ñ–≤ –¥–∞—à–±–æ—Ä–¥—É
- Quarto –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î headless Chrome –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É HTML –¥–∞—à–±–æ—Ä–¥—É –≤ PNG –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Chrome:
- **macOS**:
  ```bash
  brew install --cask google-chrome
  # –∞–±–æ
  brew install chromium
  ```
- **Ubuntu/Debian**:
  ```bash
  # Google Chrome
  wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb
  sudo apt install ./google-chrome-stable_current_amd64.deb

  # –∞–±–æ Chromium
  sudo apt-get install chromium-browser
  ```
- **Windows**: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∑ [google.com/chrome](https://www.google.com/chrome/)

–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è:
```bash
# Google Chrome
google-chrome --version
# –∞–±–æ Chromium
chromium-browser --version
```

### 2. R Packages

–ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ R:
- `shiny` - –¥–ª—è —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏—Ö –¥–∞—à–±–æ—Ä–¥—ñ–≤
- `ggplot2` - –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö
- `dplyr` - –¥–ª—è –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ—ó –¥–∞–Ω–∏–º–∏
- `scales` - –¥–ª—è —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —à–∫–∞–ª
- `tidyr` - –¥–ª—è —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—ó –¥–∞–Ω–∏—Ö
- `tidyverse` - –Ω–∞–±—ñ—Ä —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥–∞–Ω–∏–º–∏
- `googlesheets4` - –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Google Sheets

### 3. Google Cloud Credentials

–î–ª—è –¥–æ—Å—Ç—É–ø—É –¥–æ Google Sheets:
- –û–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å Google –∑ –¥–æ—Å—Ç—É–ø–æ–º –¥–æ —Ç–∞–±–ª–∏—Ü—ñ –∑ –º–µ—Ç—Ä–∏–∫–∞–º–∏
- –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ `googlesheets4`

### 4. Slack App

–ù–µ–æ–±—Ö—ñ–¥–Ω—ñ Slack —Ç–æ–∫–µ–Ω–∏:
- **Slack Bot Token** (`xoxb-...`)
- **Slack App Token** (`xapp-...`)
- **Channel ID** –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ø—É–±–ª—ñ–∫–∞—Ü—ñ—ó

---

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone <repository-url>
cd supply-dashboard
```

### –ö—Ä–æ–∫ 2: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è R –ø–∞–∫–µ—Ç—ñ–≤

**üéâ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è**: –°–∫—Ä–∏–ø—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç—å —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª—è—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ –ø–∞–∫–µ—Ç–∏ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É!

–Ø–∫—â–æ –≤–∏ —Ö–æ—á–µ—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø–∞–∫–µ—Ç–∏ –≤—Ä—É—á–Ω–æ –∑–∞–∑–¥–∞–ª–µ–≥—ñ–¥—å, –≤—ñ–¥–∫—Ä–∏–π—Ç–µ R –∞–±–æ RStudio —Ç–∞ –≤–∏–∫–æ–Ω–∞–π—Ç–µ:

```r
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤
install.packages(c(
  "shiny",
  "ggplot2",
  "dplyr",
  "scales",
  "tidyr",
  "tidyverse",
  "googlesheets4"
))
```

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: –ü—Ä–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–º—É –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ñ –ø–∞–∫–µ—Ç—ñ–≤ –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —à–≤–∏–¥–∫–æ—Å—Ç—ñ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É.

### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Python –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

**‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û**: –í—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –ù–ï –≤–∫–ª—é—á–µ–Ω–µ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π (—ñ –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –±—É—Ç–∏), –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–æ –º—ñ—Å—Ç–∏—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω—ñ —Ñ–∞–π–ª–∏. –ö–æ–∂–µ–Ω –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á —Å—Ç–≤–æ—Ä—é—î —Å–≤–æ—î –≤–ª–∞—Å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ.

```bash
# –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
python3 -m venv Dashboard

# –ê–∫—Ç–∏–≤–∞—Ü—ñ—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
# Linux/macOS:
source Dashboard/bin/activate
# Windows:
Dashboard\Scripts\activate

# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π –∑ requirements.txt
pip install -r requirements.txt
```

**–©–æ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ requirements.txt**:
- `python-dotenv` - –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∑ .env
- `slack-sdk` - –¥–ª—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑—ñ Slack API

---

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è Google Sheets

#### –ö—Ä–æ–∫ 1: –í–∫–∞–∂—ñ—Ç—å URL Google Sheets

–£ —Ñ–∞–π–ª—ñ `Dashboard_generator.qmd` (—Ä—è–¥–æ–∫ ~37) –≤–∫–∞–∂—ñ—Ç—å URL –≤–∞—à–æ—ó Google Sheets:

```r
url <- "YOUR_GOOGLE_SHEETS_URL"
```

#### –ö—Ä–æ–∫ 2: –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è Google Sheets (–û–î–ò–ù –†–ê–ó)

**üéØ –ü–†–û–°–¢–ò–ô –°–ü–û–°–Ü–ë - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è —á–µ—Ä–µ–∑ RStudio:**

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª** `Dashboard_generator.qmd` –≤ RStudio

2. **–ó–Ω–∞–π–¥—ñ—Ç—å chunk** `load&transform_data` (–±–ª–∏–∑—å–∫–æ —Ä—è–¥–∫–∞ 30)

3. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –¢–Ü–õ–¨–ö–ò —Ü–µ–π chunk** –Ω–∞—Ç–∏—Å–Ω—É–≤—à–∏ ‚ñ∂Ô∏è (–∞–±–æ Ctrl+Shift+Enter):
   ```r
   url <- "https://docs.google.com/spreadsheets/d/..."
   data <- googlesheets4::read_sheet(url, col_types = "c")
   # ... —Ä–µ—à—Ç–∞ –∫–æ–¥—É
   ```

4. **–í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä** –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó Google:
   - –û–±–µ—Ä—ñ—Ç—å Google –∞–∫–∞—É–Ω—Ç –∑ –¥–æ—Å—Ç—É–ø–æ–º –¥–æ —Ç–∞–±–ª–∏—Ü—ñ
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Allow"
   - –¢–æ–∫–µ–Ω–∏ –∑–±–µ—Ä–µ–∂—É—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

5. **–ì–æ—Ç–æ–≤–æ!** ‚úÖ –¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏ `quarto render`

**–í–∞–∂–ª–∏–≤–æ**:
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –ø–æ—Ç—Ä—ñ–±–Ω–∞ **–¢–Ü–õ–¨–ö–ò –û–î–ò–ù –†–ê–ó**
- –¢–æ–∫–µ–Ω–∏ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ —ñ –ø—Ä–∞—Ü—é—é—Ç—å –¥–ª—è –≤—Å—ñ—Ö –Ω–∞—Å—Ç—É–ø–Ω–∏—Ö –∑–∞–ø—É—Å–∫—ñ–≤
- –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤—Ç–æ—Ä—é–≤–∞—Ç–∏ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Slack Bot

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É:

```bash
SLACK_BOT_TOKEN=xoxb-your-bot-token-here
SLACK_APP_TOKEN=xapp-your-app-token-here
CHANNEL_ID=C0XXXXXXXXX
```

**‚ö†Ô∏è –í–ê–ñ–õ–ò–í–û**: –ù—ñ–∫–æ–ª–∏ –Ω–µ –∫–æ–º—ñ—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª —É Git! –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—ñ–Ω –≤ `.gitignore`.

#### –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ Slack —Ç–æ–∫–µ–Ω–∏:

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [api.slack.com/apps](https://api.slack.com/apps)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π App –∞–±–æ –æ–±–µ—Ä—ñ—Ç—å —ñ—Å–Ω—É—é—á–∏–π
3. **Bot Token**:
   - OAuth & Permissions ‚Üí Bot User OAuth Token
   - –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ scope: `files:write`, `chat:write`
4. **App Token**:
   - Basic Information ‚Üí App-Level Tokens
5. **Channel ID**:
   - –£ Slack: –ø—Ä–∞–≤–∏–π –∫–ª—ñ–∫ –Ω–∞ –∫–∞–Ω–∞–ª ‚Üí View channel details ‚Üí —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ ID

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ—Ç—Ä–∏–∫ –¥–∞—à–±–æ—Ä–¥—É

–£ —Ñ–∞–π–ª—ñ `dashboard_static.R` –∞–±–æ `Dashboard_generator.qmd` –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ:

```r
# –ü–µ—Ä—ñ–æ–¥ —ñ—Å—Ç–æ—Ä—ñ—ó (–º—ñ—Å—è—Ü—ñ)
CHART_HISTORY_MONTHS <- 6  # 3, 6, 12 —Ç–æ—â–æ

# –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
BLOCK1_METRICS <- list(
  c("Availability Average", "card"),
  c("Availability Lowest", "card"),
  c("%Completion", "card"),
  c("PU Retention", "card")
)
```

---

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –í–∞—Ä—ñ–∞–Ω—Ç 1: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Quarto (–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ)

**üîê –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫ (–û–î–ò–ù –†–ê–ó)**:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ `Dashboard_generator.qmd` –≤ **RStudio**
2. –ó–Ω–∞–π–¥—ñ—Ç—å chunk **`load&transform_data`**
3. –ó–∞–ø—É—Å—Ç—ñ—Ç—å **–¢–Ü–õ–¨–ö–ò —Ü–µ–π chunk** (Ctrl+Shift+Enter –∞–±–æ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å ‚ñ∂Ô∏è)
4. –í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä ‚Üí –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –≤ Google
5. –ì–æ—Ç–æ–≤–æ! ‚úÖ

**üìä –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–∞—à–±–æ—Ä–¥—É (–∑–∞–≤–∂–¥–∏)**:

```bash
# –í —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∞–±–æ RStudio
quarto render Dashboard_generator.qmd
```

–ê–±–æ –≤ RStudio –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É **"Render"**

**–ù–∞—Å—Ç—É–ø–Ω—ñ –∑–∞–ø—É—Å–∫–∏**:
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è –±—ñ–ª—å—à–µ –ù–ï –ø–æ—Ç—Ä—ñ–±–Ω–∞!
- –ü—Ä–æ—Å—Ç–æ —Ä–æ–±—ñ—Ç—å `quarto render`
- –¢–æ–∫–µ–Ω–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

### –í–∞—Ä—ñ–∞–Ω—Ç 2: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è —á–µ—Ä–µ–∑ R Script

```r
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å —É R –∫–æ–Ω—Å–æ–ª—ñ
source("dashboard_static.R")
```

**üì∏ –ü—Ä–∏–º—ñ—Ç–∫–∞ –ø—Ä–æ —Å–∫—Ä—ñ–Ω—à–æ—Ç–∏**: Quarto –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Google Chrome/Chromium —É headless —Ä–µ–∂–∏–º—ñ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—ó HTML –¥–∞—à–±–æ—Ä–¥—É –≤ PNG –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Chrome –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó.

–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è —É –ø–∞–ø—Ü—ñ `images/` –∑ –º—ñ—Ç–∫–æ—é –¥–∞—Ç–∏.

### –í—ñ–¥–ø—Ä–∞–≤–∫–∞ –≤ Slack

–ü—ñ—Å–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –¥–∞—à–±–æ—Ä–¥—É:

```bash
# –ê–∫—Ç–∏–≤—É–π—Ç–µ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (—è–∫—â–æ –Ω–µ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ)
source Dashboard/bin/activate

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å Python —Å–∫—Ä–∏–ø—Ç
python3 app.py
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:
1. –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–π–Ω–æ–≤—ñ—à–∏–π PNG —Ñ–∞–π–ª —É –ø–∞–ø—Ü—ñ `images/`
2. –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î –π–æ–≥–æ –≤ –∑–∞–∑–Ω–∞—á–µ–Ω–∏–π Slack –∫–∞–Ω–∞–ª
3. –î–æ–¥–∞—î –∫–æ–º–µ–Ω—Ç–∞—Ä –∑ –Ω–∞–∑–≤–æ—é —Ñ–∞–π–ª—É

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –º–æ–∂–Ω–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ cron job:

```bash
# –†–µ–¥–∞–≥—É–≤–∞—Ç–∏ crontab
crontab -e

# –ü—Ä–∏–∫–ª–∞–¥: —â–æ–¥–Ω—è –æ 9:00
0 9 * * * cd /path/to/supply-dashboard && source Dashboard/bin/activate && python3 app.py
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
supply-dashboard/
‚îú‚îÄ‚îÄ app.py                      # Python —Å–∫—Ä–∏–ø—Ç –¥–ª—è Slack
‚îú‚îÄ‚îÄ dashboard_static.R          # R —Å–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –¥–∞—à–±–æ—Ä–¥—É
‚îú‚îÄ‚îÄ Dashboard_generator.qmd     # Quarto –¥–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –¥–∞—à–±–æ—Ä–¥—É (‚ö†Ô∏è –ø–µ—Ä—à–∏–π —Ä–∞–∑ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ chunk –æ–∫—Ä–µ–º–æ!)
‚îú‚îÄ‚îÄ requirements.txt            # Python –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ .env                        # Slack —Ç–æ–∫–µ–Ω–∏ (–ù–ï –∫–æ–º—ñ—Ç–∏—Ç–∏!)
‚îú‚îÄ‚îÄ .gitignore                  # –Ü–≥–Ω–æ—Ä–æ–≤–∞–Ω—ñ —Ñ–∞–π–ª–∏
‚îú‚îÄ‚îÄ Dashboard/                  # Python –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ (—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –ª–æ–∫–∞–ª—å–Ω–æ)
‚îÇ   ‚îú‚îÄ‚îÄ bin/
‚îÇ   ‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ pyvenv.cfg
‚îú‚îÄ‚îÄ images/                     # –ó–≥–µ–Ω–æ–≤–∞–Ω—ñ –¥–∞—à–±–æ—Ä–¥–∏ (PNG)
‚îÇ   ‚îú‚îÄ‚îÄ dashboard_2026-02-05.png
‚îÇ   ‚îî‚îÄ‚îÄ image.png
‚îî‚îÄ‚îÄ some versions/              # –ê—Ä—Ö—ñ–≤–Ω—ñ –≤–µ—Ä—Å—ñ—ó —Å–∫—Ä–∏–ø—Ç—ñ–≤
```

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "No module named 'dotenv'" –∞–±–æ —ñ–Ω—à—ñ Python –º–æ–¥—É–ª—ñ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ

**–†—ñ—à–µ–Ω–Ω—è**:
```bash
# –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–æ
source Dashboard/bin/activate  # Linux/macOS
# –∞–±–æ
Dashboard\Scripts\activate  # Windows

# –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑ requirements.txt
pip install -r requirements.txt
```

**–Ø–∫—â–æ –≤—ñ—Ä—Ç—É–∞–ª—å–Ω–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ –Ω–µ –ø—Ä–∞—Ü—é—î**:
- –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä–µ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ: `rm -rf Dashboard/`
- –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–µ: `python3 -m venv Dashboard`
- –ê–∫—Ç–∏–≤—É–π—Ç–µ —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ: `source Dashboard/bin/activate && pip install -r requirements.txt`

### –ü—Ä–æ–±–ª–µ–º–∞: "Error: Slack token not found"

**–†—ñ—à–µ–Ω–Ω—è**:
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Ñ–∞–π–ª `.env` —ñ—Å–Ω—É—î –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Ç–æ–∫–µ–Ω–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω—ñ (–±–µ–∑ –ø—Ä–æ–±—ñ–ª—ñ–≤)
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç: `SLACK_BOT_TOKEN=xoxb-...` (–±–µ–∑ –ª–∞–ø–æ–∫)

### –ü—Ä–æ–±–ª–µ–º–∞: "–£ –ø–∞–ø—Ü—ñ 'images' –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –∂–æ–¥–Ω–æ–≥–æ PNG —Ñ–∞–π–ª—É"

**–†—ñ—à–µ–Ω–Ω—è**:
- –°–ø–æ—á–∞—Ç–∫—É –∑–≥–µ–Ω–µ—Ä—É–π—Ç–µ –¥–∞—à–±–æ—Ä–¥ —á–µ—Ä–µ–∑ R/Quarto
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –ø–∞–ø–∫–∞ `images/` —ñ—Å–Ω—É—î
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —â–æ —Ñ–∞–π–ª–∏ –º–∞—é—Ç—å —Ä–æ–∑—à–∏—Ä–µ–Ω–Ω—è `.png`

### –ü—Ä–æ–±–ª–µ–º–∞: "Error uploading file: not_in_channel"

**–†—ñ—à–µ–Ω–Ω—è**:
- –î–æ–¥–∞–π—Ç–µ Slack –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª: `/invite @YourBotName`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Channel ID –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

### –ü—Ä–æ–±–ª–µ–º–∞: Google Sheets "PERMISSION_DENIED" (403) –∞–±–æ "Can't get Google credentials"

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ –≤–∏–∫–æ–Ω–∞–Ω–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è Google Sheets

**–†—ñ—à–µ–Ω–Ω—è (–ü–†–û–°–¢–ï)**:

1. **–í—ñ–¥–∫—Ä–∏–π—Ç–µ** `Dashboard_generator.qmd` –≤ RStudio
2. **–ó–Ω–∞–π–¥—ñ—Ç—å chunk** `load&transform_data` (–±—ñ–ª—è —Ä—è–¥–∫–∞ 30)
3. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å –¢–Ü–õ–¨–ö–ò —Ü–µ–π chunk** (Ctrl+Shift+Enter)
4. **–í—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è –±—Ä–∞—É–∑–µ—Ä** ‚Üí –æ–±–µ—Ä—ñ—Ç—å Google –∞–∫–∞—É–Ω—Ç ‚Üí Allow
5. **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä –º–æ–∂–Ω–∞ —Ä–æ–±–∏—Ç–∏ `quarto render`

**–Ø–∫—â–æ —Ç–æ–∫–µ–Ω–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∏**:
```bash
# –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä—ñ —Ç–æ–∫–µ–Ω–∏
rm -rf .gargle/

# –ó–∞–ø—É—Å—Ç—ñ—Ç—å chunk –∑–Ω–æ–≤—É –≤ RStudio
```

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø—É**:
- –í—ñ–¥–∫—Ä–∏–π—Ç–µ –≤–∞—à—É Google Sheets —Ç–∞–±–ª–∏—Ü—é –≤ –±—Ä–∞—É–∑–µ—Ä—ñ
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –≤–∏ –º–æ–∂–µ—Ç–µ —ó—ó –ø–æ–±–∞—á–∏—Ç–∏
- –Ø–∫—â–æ –Ω—ñ - –ø–æ–ø—Ä–æ—Å—ñ—Ç—å –≤–ª–∞—Å–Ω–∏–∫–∞ –¥–∞—Ç–∏ –¥–æ—Å—Ç—É–ø (Viewer –∞–±–æ Editor)

### –ü—Ä–æ–±–ª–µ–º–∞: R –ø–∞–∫–µ—Ç –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ

**–†—ñ—à–µ–Ω–Ω—è**:
```r
# –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø–∞–∫–µ—Ç –≤—Ä—É—á–Ω—É –∑ CRAN –¥–∑–µ—Ä–∫–∞–ª–∞
install.packages("package_name", repos = "https://cran.rstudio.com/")

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è
library(package_name)

# –ê–±–æ –æ–Ω–æ–≤–∏—Ç–∏ –≤—Å—ñ –ø–∞–∫–µ—Ç–∏
update.packages(ask = FALSE)
```

**–Ø–∫—â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–µ –ø—Ä–∞—Ü—é—î**:
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å (–Ω–∞ –¥–µ—è–∫–∏—Ö —Å–∏—Å—Ç–µ–º–∞—Ö –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è `sudo R`)
- –°–ø—Ä–æ–±—É–π—Ç–µ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –ø–∞–∫–µ—Ç–∏ –≤—Ä—É—á–Ω–æ –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Å–∫—Ä–∏–ø—Ç—É
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∫–æ–º–ø—ñ–ª—è—Ç–æ—Ä–∞ C/C++ (–¥–ª—è –¥–µ—è–∫–∏—Ö –ø–∞–∫–µ—Ç—ñ–≤):
  ```bash
  # macOS
  xcode-select --install

  # Ubuntu/Debian
  sudo apt-get install build-essential
  ```

### –ü—Ä–æ–±–ª–µ–º–∞: "Chrome not found" –∞–±–æ –¥–∞—à–±–æ—Ä–¥ –Ω–µ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –≤ PNG

**–†—ñ—à–µ–Ω–Ω—è**:
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Chrome/Chromium –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π:
  ```bash
  google-chrome --version
  # –∞–±–æ
  chromium-browser --version
  ```
- –Ø–∫—â–æ Chrome –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π, –∞–ª–µ Quarto –π–æ–≥–æ –Ω–µ –∑–Ω–∞—Ö–æ–¥–∏—Ç—å, –≤–∫–∞–∂—ñ—Ç—å —à–ª—è—Ö —è–≤–Ω–æ:
  ```bash
  # Linux
  export CHROME_BIN=/usr/bin/google-chrome
  # –∞–±–æ
  export CHROME_BIN=/usr/bin/chromium-browser

  # macOS
  export CHROME_BIN="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"
  ```
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Ä–º—ñ–Ω–∞–ª –ø—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Chrome
- –î–ª—è headless —Ä–µ–∂–∏–º—É –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ (Linux):
  ```bash
  sudo apt-get install -y libxss1 libappindicator1 libindicator7
  ```

---

## –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Ç–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∏

–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø–∏—Ç–∞–Ω–Ω—è –∞–±–æ –ø—Ä–æ–±–ª–µ–º–∏:
1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ä–æ–∑–¥—ñ–ª [Troubleshooting](#troubleshooting)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å Issue —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó
3. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∫–æ–º–∞–Ω–¥–∏ Supply Operations

---

**–û—Å—Ç–∞–Ω–Ω—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**: 2026-02-05
